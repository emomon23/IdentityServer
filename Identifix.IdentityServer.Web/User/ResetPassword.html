<h1>Reset Password</h1>

<div class="alert alert-danger" ng-show="data.resetPassword.tokenExpired">
    <p>Your password reset link has expired. You have 15 minutes after your link is generated to reset your password. Please try again.</p>
</div>

<div class="well" ng-show="!data.resetPassword.tokenExpired">
    <form name="resetPasswordForm" novalidate class="css-form">
        <div class="form-group">
            <label for="newPassword">New Password</label>
            <span class="error" ng-show="resetPasswordForm.newPassword.$touched && resetPasswordForm.newPassword.$error.required">
                Please enter a new password.
            </span>
            <div id="invalidNewPassword" class="error" ng-show="data.resetPassword.invalidNewPasswordError != ''">{{ data.resetPassword.invalidNewPasswordError }}</div>
            <input id="newPassword" type="password" name="newPassword" required ng-model="data.resetPassword.newPassword" ng-blur="verifyPasswordIsValid()" class="form-control" placeholder="New Password" />
        </div>
        <div class="form-group">
            <label for="confirmNewPassword">Confirm New Password</label>
            <span ng-show="resetPasswordForm.confirmNewPassword.$touched && resetPasswordForm.confirmNewPassword.$error.required" class="error">Invalid new password confirmation.</span>
            <span ng-show="resetPasswordForm.confirmNewPassword.$touched && resetPasswordForm.confirmNewPassword.$error.compareTo" class="error">Password's don't match</span>
            <input id="confirmNewPassword" type="password" name="confirmNewPassword" required ng-model="data.resetPassword.newPasswordConfirm" compare-to="data.resetPassword.newPassword" class="form-control" placeholder="Confirm your New Password"/>
        </div>
        <div class="form-group">
            <button id="changePassword" type="submit" ng-click="resetPasswordConfirmation()">Save</button>
        </div>
    </form>
</div>
